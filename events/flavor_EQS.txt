add_namespace = EQS.advisor
add_namespace = EQS.flavor

country_event = {
	id = EQS.advisor.1 #blueblood
	title = EQS.advisor.1.t
	desc = EQS.advisor.1.d
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_event_equestria_fail
	option = {
		log = "[GetLogInfo]: event EQS.advisor.1 option EQS.advisor.1.a"
		name = EQS.advisor.1.a 
		add_popularity = {
			ideology = democratic
			popularity = -0.10
		}
		if = {
			limit = { has_power_balance = { id = EQS_Princess_bop } }
			add_power_balance_value = {
    			id = EQS_Princess_bop
    			value = -0.15
    			tooltip_side = EQS_Celestia_control
			}
		}
	}
}

country_event = {
	id = EQS.advisor.2 #twi
	title = EQS.advisor.2.t
	desc = EQS.advisor.2.d
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_event_pony_statue
	option = {
		log = "[GetLogInfo]: event EQS.advisor.2 option EQS.advisor.2.a"
		name = EQS.advisor.2.a 
		add_stability = 0.005 # +0.5% base stability 
	}
}

country_event = {
	id = EQS.advisor.200 #twi monthly-check balancing event (fires in every month if bop is over 85%)
	title = {
		text = EQS.advisor.200.t_solar
		trigger = { 
			power_balance_value = {
    			id = EQS_Princess_bop
				value < -0.85
			}
		}
	}
	desc = {
		text = EQS.advisor.200.d_solar
		trigger = { 
			power_balance_value = {
    			id = EQS_Princess_bop
				value < -0.85
			}
		}
	}
	title = {
		text = EQS.advisor.200.t_lunar
		trigger = { 
			power_balance_value = {
    			id = EQS_Princess_bop
				value > 0.85
			}
		}
	}
	desc = {
		text = EQS.advisor.200.d_lunar
		trigger = { 
			power_balance_value = {
    			id = EQS_Princess_bop
				value > 0.85
			}
		}
	}
	is_triggered_only = yes
	picture = GFX_event_dim_library
	option = {
		log = "[GetLogInfo]: event EQS.advisor.20 option EQS.advisor.20.a"
		name = EQS.advisor.200.a
		add_power_balance_value = {
    		id = EQS_Princess_bop
    		value = -0.05
    		tooltip_side = EQS_Celestia_control
		}
	}
	option = {
		log = "[GetLogInfo]: event EQS.advisor.20 option EQS.advisor.20.b"
		name = EQS.advisor.200.b
	}
	option = {
		log = "[GetLogInfo]: event EQS.advisor.20 option EQS.advisor.20.c"
		name = EQS.advisor.200.c
		add_power_balance_value = {
    		id = EQS_Princess_bop
    		value = 0.05
    		tooltip_side = EQS_Luna_control
		}
	}
}
#3rd is evil twi

country_event = {
	id = EQS.advisor.4 #cocopommel
	title = EQS.advisor.4.t
	desc = EQS.advisor.4.d
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_event_canterlot
	option = {
		log = "[GetLogInfo]: event EQS.advisor.4 option EQS.advisor.4.a"
		name = EQS.advisor.4.a 
		add_popularity = {
			ideology = democratic
			popularity = 0.01
		}
		if = {
			limit = { has_power_balance = { id = EQS_Princess_bop } }
			add_power_balance_value = {
    			id = EQS_Princess_bop
    			value = 0.05
    			tooltip_side = EQS_Luna_control
			}
			hidden_effect = { 
				country_event = {
					id = EQS.advisor.400
					days = 35
				}
			}
		}
	}
}

country_event = {
	id = EQS.advisor.400 #cocopommel
	title = EQS.advisor.400.t
	desc = EQS.advisor.400.d
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_event_pony_statue
	option = {
		log = "[GetLogInfo]: event EQS.advisor.400 option EQS.advisor.400.a"
		name = EQS.advisor.400.a 
		add_power_balance_value = {
    		id = EQS_Princess_bop
    		value = -0.05
    		tooltip_side = EQS_Celestia_control
		}	
	}
	option = {
		log = "[GetLogInfo]: event EQS.advisor.400 option EQS.advisor.400.b"
		name = EQS.advisor.400.b 
		custom_effect_tooltip = EQS_adv_400b_tt
	}
	option = {
		log = "[GetLogInfo]: event EQS.advisor.400 option EQS.advisor.400.c"
		name = EQS.advisor.400.c 
		add_power_balance_value = {
    		id = EQS_Princess_bop
    		value = 0.05
    		tooltip_side = EQS_Luna_control
		}
	}
}

country_event = {
	id = EQS.advisor.5 #flim_flam
	title = EQS.advisor.5.t
	desc = EQS.advisor.5.d
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_event_crystaller_building
	option = {
		log = "[GetLogInfo]: event EQS.advisor.5 option EQS.advisor.5.a"
		name = EQS.advisor.5.a 
		add_popularity = {
			ideology = democratic
			popularity = -0.05
		}
		if = {
			limit = { has_power_balance = { id = EQS_Princess_bop } }
			hidden_effect = {
				country_event = {
					id = EQS.advisor.50
					days = 35
				}
			}
			add_power_balance_value = {
				id = EQS_Princess_bop
				value = 0.05
				tooltip_side = EQS_Luna_control
			}
		}
	}
}
country_event = {
	id = EQS.advisor.50 #flim_flam
	title = EQS.advisor.50.t
	desc = EQS.advisor.50.d
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_event_manehattan_concert_hall
	option = {
		log = "[GetLogInfo]: event EQS.advisor.50 option EQS.advisor.50.a"
		name = EQS.advisor.50.a 
		custom_effect_tooltip = EQS_adv_50a_tt
	}
	option = {
		log = "[GetLogInfo]: event EQS.advisor.50 option EQS.advisor.50.b"
		name = EQS.advisor.50.b 
		add_power_balance_value = {
    		id = EQS_Princess_bop
    		value = -0.15
    		tooltip_side = EQS_Celestia_control
		}
		set_country_flag = EQS_flim_flam_solarist
		hidden_effect = { 
			country_event = { 
				id = EQS.advisor.51
				days = 135
			}
		}
	}
	option = {
		log = "[GetLogInfo]: event EQS.advisor.50 option EQS.advisor.50.c"
		name = EQS.advisor.50.c 
		add_power_balance_value = {
    		id = EQS_Princess_bop
    		value = 0.15
    		tooltip_side = EQS_Luna_control
		}
		hidden_effect = { 
			country_event = {
				id = EQS.advisor.51
				days = 135
			}
		}
	}
}

country_event = {
	id = EQS.advisor.51 #flim_flam scandal
	title = EQS.advisor.51.t
	desc = EQS.advisor.51.d
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_event_fluttershy_disappointed
	option = {
		log = "[GetLogInfo]: event EQS.advisor.51 option EQS.advisor.51.a"
		name = EQS.advisor.51.a 
		set_country_flag = EQS_flim_flam_unavailable
	}
	option = {
		log = "[GetLogInfo]: event EQS.advisor.51 option EQS.advisor.51.b"
		name = EQS.advisor.51.b #blame solarist
		add_power_balance_value = {
    		id = EQS_Princess_bop
    		value = 0.25
    		tooltip_side = EQS_Luna_control
		}
		if = {
			limit = { has_country_flag = EQS_flim_flam_solarist }
			set_country_flag = EQS_flim_flam_unavailable
			add_political_power = 150
		}
		if = {
			limit = { NOT = { has_country_flag = EQS_flim_flam_solarist } }
			add_political_power = -50
			add_stability = -0.05
			add_popularity = {
				ideology = democratic
				popularity = -0.15
			}
			custom_effect_tooltip = EQS_advisor_51_troll
		}
	}
	option = {
		log = "[GetLogInfo]: event EQS.advisor.51 option EQS.advisor.51.c"
		name = EQS.advisor.51.c 
		add_power_balance_value = {
    		id = EQS_Princess_bop
    		value = -0.25
    		tooltip_side = EQS_Celestia_control
		}
		if = {
			limit = { NOT = { has_country_flag = EQS_flim_flam_solarist } }
			set_country_flag = EQS_flim_flam_unavailable
			add_political_power = 150
		}
		if = {
			limit = { has_country_flag = EQS_flim_flam_solarist }
			add_political_power = -50
			add_stability = -0.05
			add_popularity = {
				ideology = democratic
				popularity = -0.15
			}
			custom_effect_tooltip = EQS_advisor_51_troll
		}
	}
}

country_event = {
	id = EQS.advisor.6 #inkwell
	title = EQS.advisor.6.t
	desc = EQS.advisor.6.d
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_event_palace_hall
	option = {
		log = "[GetLogInfo]: event EQS.advisor.6 option EQS.advisor.6.a"
		name = EQS.advisor.6.a
	}
}

#fancy_pants
country_event = {
	id = EQS.advisor.7 #fancy_pants
	title = EQS.advisor.7.t
	desc = EQS.advisor.7.d
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_event_palace_hall
	option = {
		log = "[GetLogInfo]: event EQS.advisor.7 option EQS.advisor.7.a"
		name = EQS.advisor.7.a 
		add_popularity = {
				ideology = democratic
				popularity = 0.05
			}
		add_stability = 0.01
		if = {
			limit = { has_power_balance = { id = EQS_Princess_bop } }
			add_power_balance_value = {
				id = EQS_Princess_bop
				value = -0.10
				tooltip_side = EQS_Celestia_control
			}
		}
	}
}
#filthy_rich
country_event = {
	id = EQS.advisor.8 #filthy_rich
	title = EQS.advisor.8.t
	desc = EQS.advisor.8.d
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_event_palace_hall
	option = {
		log = "[GetLogInfo]: event EQS.advisor.8 option EQS.advisor.8.a"
		name = EQS.advisor.8.a 
		add_popularity = {
				ideology = democratic
				popularity = -0.05
			}
		if = {
			limit = { has_power_balance = { id = EQS_Princess_bop } }
			add_power_balance_value = {
				id = EQS_Princess_bop
				value = -0.05
				tooltip_side = EQS_Celestia_control
			}
		}
	}
}

#9#florina - for STG rework
 

#sweetie_drops

#rockhoof

#12#grimhoof - comics & gameloft pony, I cannot write his events (haven't watched his comics and no wiki page)
#13#coppertop - i dunno him

#14 flash_magnus
#15 rainbowdash

#16 kittyhawk (x)
#17 EQS_eqs6 - morning storm (x)

#18 maudpie
#19 limestone
#20 zecora

country_event = {
	id = EQS.advisor.21 #rarity
	title = EQS.advisor.21.t
	desc = EQS.advisor.21.d
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_event_rarity
	option = {
		log = "[GetLogInfo]: event EQS.advisor.21 option EQS.advisor.21.a"
		name = EQS.advisor.21.a 
		if = {
			limit = { has_power_balance = { id = EQS_Princess_bop } }
			add_power_balance_value = {
    			id = EQS_Princess_bop
    			value = 0.15
    			tooltip_side = EQS_Luna_control
			}
		}
	}
}

#22 wonderbolts (academy)

#23 sentinel (x)

#24 fizzlepop
#25 grannysmith
#26 spitfire
#27 fluttershy
#28 flakesnow
#29 braeburn

#30 tempest_wind -x
#31 padlock - visible only in SOL
#32 dottedline - only in SOL
#33 benevelle - only in SOL
#34 summersweet - only in SOL
#35 morninglight - only in SOL
#36 sunnyflare - only in SOL
#37 wind_rider - only in SOL
#38 arcane_nova - only in SOL
#39 blaze - only in SOL
#40 thunderlane - only in SOL

###############################################################################################
#######################                                     ###################################
#######################       Champion Mechanic Events      ###################################
#######################                                     ###################################
###############################################################################################
#3  EQS_prince_blueblood (code-completed)
#4 EQS_starlight_glimmer (code-completed)
#5 EQS_soarin (code-completed)
#6 EQS_fast_clip (code-completed)
#7 EQS_whiplash (code-completed)
#8 EQS_madoor_stronghammer -x

#9 EQS_evening_squall
#10 EQS_cynosura
#11 EQS_dust_hoover

#12 EQS_copper_gearheart_cog -x

#13 EQS_maudpie

#14 EQS_sentinel -x

#15 EQS_fizzlepop
#16 EQS_braeburn

#17 EQS_NLR_celenite ( moonatik, thestral; no nightguard) (code-completed)
#18 EQS_NLR_tempest_wind ( night_guard but no thestral damn) (code-completed)
#19 EQS_NLR_bipen (ng) (code-completed)
#20 EQS_NLR_midnight_oil (ng) (code-completed)
#21 EQS_oli_equites (no ng but thestral) (code-completed)
#22 EQS_SOL_august_fon_eisenstadt (x)
#23 EQS_applejack (code-completed)
#24 EQS_allen_spark (x)
#25 EQS_swift_wing (x)
#26 EQS_Fireflight (x)
#27 EQS_anonfilly (x)
#28 EQS_sergeant_reckless (x)

#29 EQS_Sam
#30 EQS_gizmo
#31 EQS_big_macintosh

#32 EQS_pinkie_pie (code-completed)
#33 EQS_caltrop_decay (x)
#34 EQS_sun_marble (x)
#35 EQS_orion_star (x)
#36 EQS_bernard_hoofgonery (x)
#37 EQS_sunrise_moonshadow (x)
#Shining Armour in CRY can join EQS - so code-completed
 
unit_leader_event = {
	id = EQS.flavor.1 #Champion Mechanic Event
	title = {
		text = EQS.flavor.1.t.sunset
		trigger = { THIS = { is_character = EQS_sunset_shimmer } }
	}
	desc = {
		text = EQS.flavor.1.d.sunset
		trigger = { THIS = { is_character = EQS_sunset_shimmer } }
	}
	title = {
		text = EQS.flavor.1.t.luna_herself
		trigger = { THIS = { is_character = EQS_princess_luna } }
	}
	desc = {
		text = EQS.flavor.1.d.luna_herself
		trigger = { THIS = { is_character = EQS_princess_luna } }
	}
	title = {
		text = EQS.flavor.1.t.wonderbolts
		trigger = { 
			OR = { 
				THIS = { is_character = EQS_fast_clip }
				THIS = { is_character = EQS_soarin }
				THIS = { is_character = EQS_whiplash }
			}
		}
	}
	desc = {
		text = EQS.flavor.1.d.wonderbolts
		trigger = { 
			OR = { 
				THIS = { is_character = EQS_fast_clip }
				THIS = { is_character = EQS_soarin }
				THIS = { is_character = EQS_whiplash }
			}
		}
	}
	title = {
		text = EQS.flavor.1.t.applejack
		trigger = { THIS = { is_character = EQS_applejack } }
	}
	desc = {
		text = EQS.flavor.1.d.applejack
		trigger = { THIS = { is_character = EQS_applejack } }
	}
	title = {
		text = EQS.flavor.1.t.pinkie_pie
		trigger = { THIS = { is_character = EQS_pinkie_pie } }
	}
	desc = {
		text = EQS.flavor.1.d.pinkie_pie
		trigger = { THIS = { is_character = EQS_pinkie_pie } }
	}
	title = {
		text = EQS.flavor.1.t.starlight_glimmer
		trigger = { THIS = { is_character = EQS_starlight_glimmer } }
	}
	desc = {
		text = EQS.flavor.1.d.starlight_glimmer
		trigger = { THIS = { is_character = EQS_starlight_glimmer } }
	}
	title = {
		text = EQS.flavor.1.t.prince_blueblood
		trigger = { THIS = { is_character = EQS_prince_blueblood } }
	}
	desc = {
		text = EQS.flavor.1.d.prince_blueblood
		trigger = { THIS = { is_character = EQS_prince_blueblood } }
	}
	title = {
		text = EQS.flavor.1.t.lunarists
		trigger = { 
			OR = { 
				THIS = { has_trait = night_guard }
				THIS = { has_trait = thestral_race_trait }
			}
		}
	}
	desc = {
		text = EQS.flavor.1.d.lunarists
		trigger = { 
			OR = { 
				THIS = { has_trait = night_guard }
				THIS = { has_trait = thestral_race_trait }
			}
		}
	}
	title = {
		text = EQS.flavor.1.t.shining
		trigger = { 
			THIS = { 
				has_trait = royal_guard_commander 
				has_trait = equestrian_prince 
			} 
		}
	}
	desc = {
		text = EQS.flavor.1.d.shining
		trigger = {  
			THIS = { 
				has_trait = royal_guard_commander 
				has_trait = equestrian_prince 
			} 
		}
	}
	is_triggered_only = yes #fired by on_event related to general promotions.
	trigger = {
		THIS = {
			OR = {
				is_character = EQS_sunset_shimmer
				is_character = EQS_princess_luna
				is_character = EQS_fast_clip
				is_character = EQS_whiplash
				is_character = EQS_soarin
				is_character = EQS_applejack
				is_character = EQS_pinkie_pie
				is_character = EQS_starlight_glimmer
				has_trait = equestrian_prince 
				has_trait = night_guard
				has_trait = thestral_race_trait
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event EQS.flavor.1 option EQS.flavor.1.a"
		name = EQS.flavor.1.a #sunset
		trigger = { THIS = { is_character = EQS_sunset_shimmer } }
		add_political_power = 20
		add_stability = 0.02
		if = {
			limit = { has_power_balance = { id = EQS_Princess_bop } }
			add_power_balance_value = {
    			id = EQS_Princess_bop
    			value = -0.10
    			tooltip_side = EQS_Celestia_control
			}
		}
		EQS_Champion_add_WarHero_trait = YES
	}
	option = {
		log = "[GetLogInfo]: event EQS.flavor.1 option EQS.flavor.1.b"
		name = EQS.flavor.1.b #luna
		trigger = { THIS = { is_character = EQS_princess_luna } }
		add_political_power = 50
		add_stability = 0.02
		add_war_support = 0.02
		if = {
			limit = { has_power_balance = { id = EQS_Princess_bop } }
			add_power_balance_value = {
    			id = EQS_Princess_bop
    			value = 0.15
    			tooltip_side = EQS_Luna_control
			}
		}
		EQS_Champion_add_WarHero_trait = YES
	}
	option = {
		log = "[GetLogInfo]: event EQS.flavor.1 option EQS.flavor.1.c"
		name = EQS.flavor.1.c #wonderbolts
		trigger = { 
			OR = { 
				THIS = { is_character = EQS_fast_clip }
				THIS = { is_character = EQS_soarin }
				THIS = { is_character = EQS_whiplash }
			}
		}
		add_war_support = 0.02
		if = { 
			limit = { has_power_balance = { id = EQS_Princess_bop } }
			add_power_balance_value = {
    			id = EQS_Princess_bop
    			value = -0.05
    			tooltip_side = EQS_Celestia_control
			}
		}
		EQS_Champion_add_WarHero_trait = YES
	}
	option = {
		log = "[GetLogInfo]: event EQS.flavor.1 option EQS.flavor.1.e"
		name = EQS.flavor.1.e #Applejack
		trigger = { THIS = { is_character = EQS_applejack } }
		add_political_power = 5
		add_stability = 0.01
		if = { 
			limit = { has_power_balance = { id = EQS_Princess_bop } }
			add_power_balance_value = {
    			id = EQS_Princess_bop
    			value = -0.05
    			tooltip_side = EQS_Celestia_control
			}
		}
		EQS_Champion_add_WarHero_trait = YES
	}
	option = {
		log = "[GetLogInfo]: event EQS.flavor.1 option EQS.flavor.1.f"
		name = EQS.flavor.1.f #pinkie
		trigger = { THIS = { is_character = EQS_pinkie_pie } }
		add_political_power = 5
		add_stability = 0.01
		if = { 
			limit = { has_power_balance = { id = EQS_Princess_bop } }
			add_power_balance_value = {
    			id = EQS_Princess_bop
    			value = -0.05
    			tooltip_side = EQS_Celestia_control
			}
		}
		EQS_Champion_add_WarHero_trait = YES
	}
	option = {
		log = "[GetLogInfo]: event EQS.flavor.1 option EQS.flavor.1.g"
		name = EQS.flavor.1.g #glim
		trigger = { THIS = { is_character = EQS_starlight_glimmer } }
		add_political_power = 5
		add_stability = 0.01
		if = { 
			limit = { has_power_balance = { id = EQS_Princess_bop } }
			add_power_balance_value = {
    			id = EQS_Princess_bop
    			value = 0.05
    			tooltip_side = EQS_Luna_control
			}
		}
		EQS_Champion_add_WarHero_trait = YES
	}
	option = {
		log = "[GetLogInfo]: event EQS.flavor.1 option EQS.flavor.1.h"
		name = EQS.flavor.1.h #blueblood
		trigger = { THIS = { is_character = EQS_prince_blueblood } }
		add_political_power = 15
		add_stability = 0.01
		if = { 
			limit = { has_power_balance = { id = EQS_Princess_bop } }
			add_power_balance_value = {
    			id = EQS_Princess_bop
    			value = -0.05
    			tooltip_side = EQS_Celestia_control
			}
		}
		EQS_Champion_add_WarHero_trait = YES
	}
	option = {
		log = "[GetLogInfo]: event EQS.flavor.1 option EQS.flavor.1.i"
		name = EQS.flavor.1.i #lunarist
		trigger = { 
			OR = { 
				THIS = { has_trait = night_guard }
				THIS = { has_trait = thestral_race_trait }
			}
		}
		add_war_support = 0.02
		if = { 
			limit = { has_power_balance = { id = EQS_Princess_bop } }
			add_power_balance_value = {
    			id = EQS_Princess_bop
    			value = 0.05
    			tooltip_side = EQS_Luna_control
			}
		}
		EQS_Champion_add_WarHero_trait = YES
	}
	option = {
		log = "[GetLogInfo]: event EQS.flavor.1 option EQS.flavor.1.j"
		name = EQS.flavor.1.j
		trigger = {  
			THIS = { 
				has_trait = royal_guard_commander 
				has_trait = equestrian_prince 
			} 
		}
		add_political_power = 15
		add_stability = 0.01
		if = {
			limit = { has_power_balance = { id = EQS_Princess_bop } }
			add_power_balance_value = {
    			id = EQS_Princess_bop
    			value = -0.05
    			tooltip_side = EQS_Celestia_control
			}
		}
		EQS_Champion_add_WarHero_trait = YES
	}
}
	
